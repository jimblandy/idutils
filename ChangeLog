1999-01-27  Jim Meyering  <meyering@ascend.com> (with some changes from gkm)

	* lib/Makefile.am (EXTRA_DIST): Remove getopt.c and getopt1.c.

	* configure.in: Require autoconf-2.13.
	Remove some variables that now come with AM_INIT_AUTOMAKE.
	Remove deprecated AM_MAINTAINER_MODE.
	Use AC_PROG_INSTALL, not deprecated AM_PROG_INSTALL.
	Use AM_FUNC_OBSTACK, not AC_REPLACE_OBSTACK.
	Use AM_GNU_GETTEXT, not ud_GNU_GETTEXT/AC_LINK_FILES...
	Define LIBOBJS for ansi2knr filtering rules.
	(AC_OUTPUT): Add m4/Makefile.

	* acconfig.h: Remove many #undefs, now that we're using autoconf-2.13's
	3-arg form of the AC_DEFINE* macros.

	* Makefile.am (SUBDIRS): Add m4.
	(EXTRA_DIST): Add Makefile.maint GNUmakefile @README_ALPHA@.
	(DISTCLEANFILES): Add intl/libintl.h.
	(ACLOCAL_AMFLAGS): Define to `-I m4'

	* m4/: New directory.

1999-01-26  Greg McGary  <gkm@gnu.org>

	* hash.h (struct hash_table) [ht_empty_slots]: Add struct member.
	* hash.c (hash_init): Initialize ht_empty_slots.  Don't halve
	ht_size.  (hash_find_slot) Return deleted slot, if available.
	(hash_insert_at): Decrement ht_empty_slots if one is consumed.
	Rehash if emtpy slots become too scarce.  (hash_free_items,
	hash_deleted_item, hash_free): Re-initialize ht_empty_slots.
	(hash_rehash): Don't double table size if rehashing only because
	table is clogged with deleted slots.

1998-11-20  Greg McGary  <gkm@gnu.org>

	* libidu/fnprint.c (print_filenames): Move ALLOCA outside loop.
	libidu/walker.c (get_lang_args): Ditto.
	src/fnid.c (main): Ditto.
	src/lid.c (report_grep, search_flinkv): Ditto.
	src/mkid.c (scan_member_file): Consolidate two ALLOCA buffers
	at inner scopes to a single buffer at an outer scope.

1998-11-18  Greg McGary  <gkm@gnu.org>

	* missing: Add file.

	* configure.in, lib/Makefile.am, libidu/Makefile.am:
	Conform macro names to automake-1.3 conventions.

	* libidu/scanners.c (id_0): Increase size and make file static.

Tue Aug  6 22:46:16 1996  Greg McGary  <gkm@g2>

	* Version 3.2 released

	* src/fid.c (get_file_index): rename shadowing local decl of
 	file_name.

	* src/lid.c (report_edit): post decrement argv when splicing in
 	ed_arg_buffer.

	* src/xtokid.c, libidu/idfile.h: #include "xstring.h" to avoid
	redeclaration of basename/dirname error.

Wed Jul 17 18:06:18 1996  Greg McGary  <gkm@g2>

	* Version 3.1 released

Sun Jun 30 13:06:18 1996  Greg McGary  <gkm@g2>

	* src/lid.c (get_query_func): remove unreachable return stmt.

	* libidu/hash.h (HASH_VACANT): cast item to (void *) for
 	comparison.

	* libidu/walker.c (append_strings_to_vector): check length of
	vector_0, not vector.

	* libidu/scanners.c (get_token_c, get_token_asm, get_token_text):
	cast return type of obstack_finish.

	* src/lid.c (radix, delimiter_style, pattern_style, key_style,
 	result_style, key_style, result_style) libidu/idfile.h
 	(separator_style): remove trailing comma from enum list.

	* src/xtokid.c: removed include of string.h.

	* src/lid.c (savetty, restoretty, linetty, chartty): define stub
 	versions if no UNIXy tty control is available.

Wed Jun 12 22:15:12 1996  Greg McGary  <gkm@g2>

	* src/lid.c, src/mkid.c, src/fnid.c (main): change default
	argv variables from char* to char[]

Mon Jun 10 15:29:19 1996  Greg McGary  <gkm@g2>

	* src/mkid.c (main): -v implies -s; handle the case where there's
	nothing to do.
	* libidu/walker.c (get_lang_args): test lang_args_default before
 	dereference.

Sun Jun  9 23:46:53 1996  Greg McGary  <gkm@g2>

	* lid.c (get_radix, otoi, dtoi, xtoi): Test *str before passing it
	to strchr--fixes query_number bug.

Sat Feb 25 16:23:49 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* Version 3.0.8 released.

	* configure.in, acconfig.h, Makefile.in (TOUCH, PREV_VERSION):
	Added.  (check): Export PATH.  (TAGS): Eliminate unnecessary `-t'
	option to etags.  (mostlyclean, clean, distclean,
	maintainer-clean, install): Bring into conformance with GNU
	standards.  (AWK, OLD_PATCH_LEVEL, PATCH_LEVEL, SIZEOF_LONG,
	bump-major, bump-minor, bump-patch): Deleted.  (ANSI2KNR,
	ansi2knr): Added.  (depend): Fixed to support ansi2knr.

	* configure.in: Update stamp-h inside AC_OUTPUT.

	* acconfig.h: Work harder to force #undef of HAVE_TERMIOS_H for	NeXT.
	(__P): Added.

	* bitops.c, fid.c, filenames.c, idfile.c, idx.c, iid.c, lid.c,
	misc.c, mkid.c, scanners.c, token.c: Changed "config.h" to <config.h>.

	* acconfig.h, bitops.c, bitops.h, fid.c, filenames.h, idfile.c,
	idfile.h, idx.c, iid.c, lid.c, misc.h, mkid.c, scanners.c,
	scanners.h, token.h: Use __P around function prototype decls.

	* acconfig.h, idfile.h, idfile.c (intmin32_t, uintmin32_t):
	Deleted in favor of long and unsigned long.

	* idtest: Fixed bugs (Thanks to Francois Pinard).

	* mkid.c (write_idfile): Delete erroneous remnant of old file name
	indexing scheme (Reported by Dave Wiggins).  (assert_hits):
	Simplified & fixed erroneous assertion.

	* lid.c (grep_id): Treat '\0' as end-of-line along with '\n'.

	* strerror.c (strerror): Protoize defn.

Mon Feb 20 16:18:47 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* Version 3.0.7 released.

	* scanners.c (scanners, suffixes, init_scanners, get_scanner,
	set_scan_args, get_lang_name, get_filter, get_suffix): Fixed
	boundary conditions.

	* mkid.c (make_sibling_summary): Don't realloc if kid's sum_tokens
	is already large enough.  (scan_1_file): Ignore blank tokens.
	Avoid division by 0 (pinard@iro.umontreal.ca).  (write_idfile):
	Moved assertions & qsort to top.  Don't check for blank tokens--it
	can't happen.  (rehash): Prefix "Rehashing..." with "\n\t".

	* idtest: Test fid more rigorously.

	* idfile.c (init_idfile): Don't increment i for non-file args.

	* Makefile.in (DEFS, DIST_SHAR, AWK, bump-patch, bump-minor,
	bump-major, shar): Added.  (.PRECIOUS): Added configure, config.h
	config.h.in.

	* configure.in (DEPEND): Fixed portability (kazusi-m@is.aist-nara.ac.jp).
	(AC_CHECK_FUNCS(basename, dirname)): Added.
	* misc.h, misc.c: Made decl/defn of basename, dirname conditional.


Sun Feb 19 19:21:09 1995  Thomas Neumann  <tom@smart.ruhr.de>

 	* configure.in: Check for <sgtty.h>, not <sgttyb.h>.
	* accconfig.h: Disbale HAVE_TERMIOS_H for NeXT,
	if HAVE_SGTTY_H is present.
	* lid.c: Depend on HAVE_SGTTY_H, not HAVE_SGTTYB_H.
	(savetty): ANSI'fy arglist declaration.

Sat Feb 18 21:44:39 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* Version 3.0.6 released.

	* Makefile.in, accconfig.h, mkid.c: Revised & simplified package
	name & version macros.

	* Makefile.in (DIST_MISC_FILES): Added version.texi, stamp-vti.
	(TAGS): Fixed.  (config.status): Removed dependency on config.cache.

	* acconfig.h: Added #ifndef _config_h_ ... #endif around file.
	(SIZEOF_INT, SIZEOF_CHAR, SIZEOF_SHORT, uint8_t, uint16_t,
	uint32_t, int32_t): Deleted.  (SIZEOF_LONG): Changed typedef name
	to intmin32_t and uintmin32_t; all uses changed.
	* configure.in (AC_CHECK_SIZEOF (int, short, char)): Deleted.
	* idfile.h (struct idhead): Dropped uint8_t, uint16_t,
	uint32_t, int32_t, added intmin32_t & uintmin32_t.
	* idfile.c (io_idhead, io_write, io_read): Use constants to express
	integer sizes for I/O on struct idhead.

	* idtest, Makefile.in (stamp-vti): Dumbed-down shell code for portability.

	* lid.c (enum radix): Deleted trailing comma.

	* scanners.c (ctype_c, ctype_asm, ctype_text): Made unsigned.

Thu Feb 16 23:55:44 EST 1995  Greg McGary  <gkm@magilla.cichlid.com>

	* Version 3.0.5 released.

	* iid.y (main): Eliminate useless Do1 variable.

	* filenames.c (kshgetwd): Conditionally use getcwd or getwd.

	* acconfig.h: Added typedefs of uint8_t, uint16_t, uint32_t, int32_t.
	* idfile.h (struct idhead), idfile.c (io_read, io_write): Use
	uint8_t, uint16_t, uint32_t, int32_t.

	* lid.c (savetty, restoretty, linetty, chartty): Handle POSIX
	termios properly.  (HAVE_SYS_IOCTL_H): #include <sys/ioctl.h> if
	!HAVE_TERMIOS_H.

	* configure.in (OLD_PATCH_LEVEL, MAJOR_VERSION, MINOR_VERSION,
	FULL_VERSION, AC_CHECK_SIZEOF(int, long, short, char),
	AC_CHECK_HEADERS(regex.h), AC_CHECK_FUNCS(regcomp regcmp): Added.

	* mkdirhier: Added.

	* Makefile.in (DIST_MISC_FILES): Added ChangeLog.  (depend):
	$(DEPEND) and Makefile are now .PRECIOUS.  (dist-dir-links):
	Added.  (check, install, uninstall): Fixed.  (install): Use
	mkdirhier.
